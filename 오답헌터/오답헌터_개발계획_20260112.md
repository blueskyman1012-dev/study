# 오답헌터 - 개발 계획서

> 단계별 개발 로드맵 및 기술 스택

---

## 1. 개발 단계 개요

```
Phase 1: MVP (기본 기능)
    ↓
Phase 2: 핵심 재미 (로그라이크)
    ↓
Phase 3: AI 기본 (OCR, 분류)
    ↓
Phase 4: AI 고급 (생성, 분석)
    ↓
Phase 5: 확장 및 폴리싱
```

---

## 2. Phase별 상세

### Phase 1: MVP (최소 기능)

```
[목표]
핵심 루프 검증: 오답 등록 → 전투 → 보상

[기능]
├── 오답 등록 (수동 입력)
│   └── 과목 선택, 문제 메모
├── 기본 전투
│   └── 문제 표시 → 정답 체크 → 데미지
├── 1개 던전 (수학)
│   └── 10 스테이지
├── 기본 보상
│   └── 골드, 경험치
└── 로컬 저장
    └── SQLite / Hive

[AI 기능]
└── 없음 (수동 입력)

[완료 기준]
- 오답 등록 가능
- 던전 1회 플레이 가능
- 저장/불러오기 동작
```

### Phase 2: 핵심 재미

```
[목표]
로그라이크 재미 요소 추가

[기능]
├── 로그라이크 버프 선택
│   └── 스테이지 클리어 시 3개 중 1개
├── 영구 강화 시스템
│   └── 골드로 영구 스탯 상승
├── 콤보/타임 보너스
│   └── 연속 정답, 빠른 풀이 보상
├── 보스 스테이지
│   └── 강화된 몬스터
└── 아이템 드랍 (기본)
    └── 보스 처치 시 장비 획득

[AI 기능]
└── 없음

[완료 기준]
- 런마다 다른 빌드 가능
- "죽어도 성장" 체감
- 30분 이상 플레이 동기
```

### Phase 3: AI 기본

```
[목표]
OCR 및 자동 분류로 사용자 편의 향상

[기능]
├── 📸 오답 사진 촬영
│   └── 카메라/갤러리 연동
├── 🔍 OCR 텍스트 추출
│   └── ML Kit (오프라인)
│   └── 수식 인식 기본 지원
├── 🏷️ 문제 유형 자동 분류
│   └── 과목/단원 자동 태깅
│   └── 룰 기반 + 경량 ML
└── 📊 기본 통계
    └── 과목별 정답률
    └── 취약 단원 표시

[AI 기술 스택]
├── OCR: Google ML Kit
├── 분류: TensorFlow Lite
└── 저장: 로컬 처리

[완료 기준]
- 사진 찍으면 자동 분류
- 수동 입력 불필요
- 오프라인 동작
```

### Phase 4: AI 고급

```
[목표]
맞춤형 학습 경험 제공

[기능]
├── 📈 오답 패턴 분석
│   └── 틀리는 유형 파악
│   └── 취약점 리포트
├── 🤖 맞춤형 문제 생성
│   └── 약점 기반 유사 문제
│   └── LLM API 활용
├── 💡 AI 힌트 생성
│   └── 단계별 힌트
│   └── 맞춤 해설
└── 🎯 난이도 자동 조절
    └── 정답률 기반
    └── 실시간 조정

[AI 기술 스택]
├── 분석: 로컬 통계 + 클라우드
├── 생성: OpenAI API / Claude API
└── 힌트: GPT-4 / Claude

[완료 기준]
- 개인화된 문제 추천
- AI 힌트로 막힘 해소
- 사용자별 다른 경험
```

### Phase 5: 확장 및 폴리싱

```
[목표]
콘텐츠 확장 및 완성도 향상

[기능]
├── 📚 추가 던전
│   └── 영어, 국어, 과학
├── 👤 추가 캐릭터
│   └── 속도형, 탱커형, 히든
├── 🎨 UI/UX 개선
│   └── 애니메이션, 이펙트
├── 🔊 사운드
│   └── BGM, 효과음
├── 🏆 업적 시스템
│   └── 도전 과제
└── 💰 수익화
    └── 광고, 인앱 구매

[AI 기능]
├── 🗣️ 음성 인식 (선택)
├── 📝 손글씨 인식 개선
└── 🎓 학습 경로 추천

[완료 기준]
- 출시 가능 품질
- 수익화 준비 완료
```

---

## 3. 기술 스택

### 3-1. 앱 개발

| 구분 | 추천 | 대안 |
|------|------|------|
| 프레임워크 | Flutter | React Native |
| 언어 | Dart | TypeScript |
| 상태관리 | Riverpod | Provider |
| 로컬 DB | Hive | SQLite |
| 이미지 저장 | 로컬 파일 | - |

### 3-2. AI/ML

| 기능 | 기술 | 비용 |
|------|------|------|
| OCR | ML Kit | 무료 |
| 수식 OCR | Mathpix | 유료 |
| 분류 | TF Lite | 무료 |
| 문제 생성 | OpenAI API | 유료 |
| 힌트 생성 | Claude API | 유료 |

### 3-3. 인프라 (선택)

| 구분 | 기술 |
|------|------|
| 분석 | Firebase Analytics |
| 광고 | Google AdMob |
| 크래시 | Firebase Crashlytics |

---

## 4. 데이터 구조

### 4-1. 핵심 모델

```
[Player]
├── id: String
├── level: Int
├── exp: Int
├── gold: Int
├── hp: Int
├── equippedItems: List<Item>
├── unlockedCharacters: List<String>
└── permanentUpgrades: Map<String, Int>

[Monster (오답)]
├── id: String
├── userId: String
├── subject: String (수학/영어/...)
├── subCategory: String (이차방정식/...)
├── imageUrl: String
├── ocrText: String
├── hp: Int
├── createdAt: DateTime
├── deadline: DateTime
└── status: String (alive/defeated)

[Item]
├── id: String
├── name: String
├── rarity: String (normal/rare/epic/legendary)
├── type: String (weapon/armor/accessory)
├── effect: String
├── value: Int
└── upgradeLevel: Int

[RunData]
├── currentStage: Int
├── currentHp: Int
├── tempBuffs: List<Buff>
├── comboCount: Int
└── earnedGold: Int
```

### 4-2. AI 관련 모델

```
[AnalysisResult]
├── weakCategories: List<String>
├── mistakeTypes: Map<String, Int>
├── avgTimeByDifficulty: Map<String, Double>
└── recommendations: List<String>

[GeneratedProblem]
├── question: String
├── choices: List<String>
├── answer: String
├── explanation: String
├── difficulty: Int
└── sourceMonster: String
```

---

## 5. AI 문제점 및 대응

### 5-1. 비용 관리

| 문제 | 대응 |
|------|------|
| API 비용 증가 | 일일 사용 한도 설정 |
| 대량 요청 | 캐싱 + 배치 처리 |
| 무료 사용자 | 기본 기능만 제공 |

```
[비용 예측]
무료 사용자: 일 5회 AI 생성 = $0.015/일
프리미엄: 일 50회 = $0.15/일

1만 DAU 기준:
- 무료 80%: 8,000 × $0.015 = $120/일
- 프리미엄 20%: 2,000 × $0.15 = $300/일
- 총 $420/일 ≈ $12,600/월
```

### 5-2. 품질 관리

| 문제 | 대응 |
|------|------|
| OCR 오류 | 사용자 수정 기능 |
| 생성 문제 오류 | 신고 기능 + 검수 |
| 부적절한 힌트 | 템플릿 기반 제한 |

### 5-3. 오프라인 대응

```
[오프라인 시]
✅ 가능: 기본 전투, 로컬 저장 오답
❌ 불가: AI 문제 생성, AI 힌트

[대응]
- 생성된 문제 미리 캐싱
- 기본 힌트 로컬 저장
- 온라인 복귀 시 동기화
```

---

## 6. 핵심 지표 (KPI)

| 지표 | 목표 | 측정 방법 |
|------|------|-----------|
| 일일 플레이 | 3회+ | 런 시작 횟수 |
| 세션 길이 | 10~15분 | 평균 체류 |
| 7일 리텐션 | 30%+ | 재방문율 |
| 오답 등록 | 주 10개+ | 등록 수 |
| AI 사용률 | 60%+ | AI 기능 사용 비율 |
| 결제 전환 | 5% | 유료 전환율 |

---

## 7. 출시 체크리스트

### 7-1. 스토어 준비

| 항목 | Android | iOS |
|------|---------|-----|
| 개발자 등록 | $25 (1회) | $99/년 |
| 심사 기간 | 1~3일 | 1~7일 |
| 스크린샷 | 8장 | 6장 |
| 아이콘 | 512×512 | 1024×1024 |

### 7-2. 필수 준비물

```
[ ] 앱 아이콘
[ ] 스크린샷 (최소 4장)
[ ] 앱 설명문
[ ] 개인정보처리방침 URL
[ ] 연령 등급 설정
[ ] 테스트 완료
```

---

## 8. 리스크 관리

| 리스크 | 확률 | 대응 |
|--------|------|------|
| AI 서비스 장애 | 중 | 폴백 (기본 기능 유지) |
| API 비용 폭증 | 중 | 한도 + 알림 |
| OCR 정확도 불만 | 높 | 수정 기능 + 개선 |
| 경쟁 앱 출시 | 중 | 차별점 강화 |
| 개인정보 이슈 | 낮 | 로컬 우선 + 암호화 |

---

## 관련 문서

- [핵심 설계](오답헌터_핵심설계_20260112.md)
- [AI 기능](오답헌터_AI기능_20260112.md)
- [시스템 설계](오답헌터_시스템설계_20260112.md)
