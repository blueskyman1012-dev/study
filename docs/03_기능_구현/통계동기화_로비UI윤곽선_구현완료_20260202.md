# 통계 동기화 + 로비 UI 윤곽선 구현 완료

## 날짜: 2026-02-02

---

## 1. 통계 데이터 동기화 문제 해결

### 원인
- `runs`(던전 기록) 데이터가 서버에 업로드만 되고 다운로드되지 않았음
- `StatsManager`는 로컬 IndexedDB의 `runs` 테이블에서 통계를 집계하므로, 다른 기기에서는 빈 통계가 표시됨

### 수정 파일

#### `app/src/services/ApiService.js`
- `getRuns()`: GET `/api/runs` API 호출 메서드 추가
- `downloadRuns(db)`: 서버에서 runs 데이터를 다운로드하여 로컬 IndexedDB에 저장하는 메서드 추가
  - 기존 로컬 runs 삭제 후 서버 데이터로 교체
  - `data` JSON 파싱하여 result, earnedGold, bestCombo, correctAnswers 등 복원

#### `app/src/main.js`
- `showGame()` 초기 동기화에 `apiService.downloadRuns(this.db)` 추가
- `syncFromServer()` 탭 복귀 동기화에도 `downloadRuns` 추가

---

## 2. 로비 메뉴 UI 글자 검은색 윤곽선 추가

### 수정 파일

#### `app/src/canvas/Renderer.js`
- `drawText()`: `stroke` 옵션 추가 (기본값 false)
  - `stroke: true`일 때 `strokeText()`로 검은색 윤곽선(rgba(0,0,0,0.6), lineWidth 3) 렌더링 후 fillText
- `drawButton()`: `stroke` 옵션을 `drawText`로 전달

#### `app/src/game/screens/MainScreen.js`
- 모든 drawText/drawButton 호출에 `stroke: true` 추가
  - 타이틀, 서브타이틀, LV, 레벨 숫자, 골드, HP, EXP, 스탯 바 텍스트
  - 던전 입장 버튼, 통계/상점/설정 버튼, AI 상태, 슬로건

---

## 빌드 확인
- `npm run build` 성공
