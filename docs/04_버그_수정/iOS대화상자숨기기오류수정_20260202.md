# iOS 대화상자 숨기기 오류 수정

## 날짜
2026-02-02

## 문제
iOS Safari에서 `alert()`/`confirm()`/`prompt()`가 반복 호출되면 "대화상자 숨기기" 옵션이 나타나, 이후 모든 대화상자가 차단되어 게임 진행이 불가능해지는 문제.

## 해결 방법
네이티브 `alert`/`confirm`/`prompt`를 HTML 커스텀 모달로 전면 교체.

### Game.js에 추가된 모달 유틸 메서드
- `showModal(message)` — alert 대체 (확인 버튼만, Promise 반환)
- `showConfirm(message)` — confirm 대체 (확인/취소 버튼, Promise<boolean> 반환)
- `showPrompt(message, defaultValue)` — prompt 대체 (입력+확인/취소, Promise<string|null> 반환)

### 수정된 파일
1. **app/src/game/Game.js** — 모달 유틸 메서드 3개 추가, 모든 alert/confirm/prompt 호출을 await 모달로 교체
2. **app/src/game/BattleManager.js** — alert/confirm 호출을 `await this.game.showModal`/`showConfirm`으로 교체, 필요한 메서드 async 전환
3. **app/src/game/ShopManager.js** — alert 호출을 `await this.game.showModal`로 교체
4. **app/src/main.js** — 카메라 오류 alert 1건 교체

### 모달 스타일
- `showLevelProgress()`에서 사용하는 패턴과 동일한 디자인
- position:fixed, 어두운 반투명 배경, 중앙 카드, 둥근 버튼
- 배경 클릭 시 닫기 지원

## 검증
- `npm run build` 성공
- 전체 소스에서 네이티브 alert/confirm/prompt 호출 0건 확인
