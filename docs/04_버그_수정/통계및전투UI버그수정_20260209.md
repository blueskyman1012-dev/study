# 통계 및 전투 UI 버그 수정

## 수정일: 2026-02-09
## 수정 파일
- `app/src/game/screens/StatsScreen.js`
- `app/src/game/BattleManager.js`
- `app/src/i18n/i18n.js`

---

## 발견 및 수정 내역

### 1. i18n 키 4개 누락 (4개 언어)
**증상:** Tab 2 최근 런 목록 헤더에서 `t('stats_colDate')` 등이 키 이름 그대로 표시됨 (폴백 `||`로 동작은 했지만 불완전)

**수정:** 4개 키 × 4개 언어 = 16개 번역 추가
| 키 | 한국어 | 영어 | 일본어 | 중국어 |
|----|--------|------|--------|--------|
| stats_colDate | 날짜 | Date | 日付 | 日期 |
| stats_colCombo | 콤보 | Combo | コンボ | 连击 |
| stats_colGold | 골드 | Gold | ゴールド | 金币 |
| stats_colTime | 시간 | Time | 時間 | 时间 |

### 2. Tab 2 최근 런 헤더/데이터 x좌표 불일치
**증상:** 컬럼 헤더와 실제 데이터가 어긋나 보임
- 날짜: 헤더 x=60 center vs 데이터 x=40 left → 1차 수정 x=72 center → 2차 수정 x=40 left로 통일 (데이터와 동일한 좌정렬)
- 시간: 헤더 x=360 right vs 데이터 x=365 right → 헤더를 x=365 right로 통일

### 4. 유형별 오답률 TOP - 빈 데이터 시 메시지 미표시
**증상:** 오답 데이터가 없을 때 섹션 B가 아예 렌더링되지 않아 비어보임
**수정:** `stats_noWrongTopics` i18n 키를 사용하여 "오답 데이터가 없습니다" 메시지 표시

### 3. showFullQuestion 모달에서 타이머 계속 진행 버그
**증상:** 문제 크게 보기 모달을 열어둔 상태에서 게임 타이머가 계속 줄어들어 타임아웃 발생 가능
**수정:** 기존 `lastTime = -1` 패턴 활용
- 모달 열 때: `game.lastTime = -1` (타이머 정지)
- 모달 닫을 때: `game.lastTime = Date.now()` (타이머 재개)

---

## 검증
- Vite 빌드: 성공
- 유닛 테스트: 180개 전부 통과
- i18n 키 검증: 41개 키 × 4개 언어 전부 존재 확인
- Tab 0 레이아웃: 2열 카드, 골드+아이템, 트리플 링 모두 400px 내 정상 배치
- Tab 1 레이아웃: 섹션 A/B/C 간 10px 간격 일정, scrollMaxY 최악 케이스 정상
- Tab 2 레이아웃: 컬럼 헤더-데이터 정렬 일치, scrollMaxY 정상
