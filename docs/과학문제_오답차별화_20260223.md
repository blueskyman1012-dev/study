# 과학 문제 오답 보기 차별화 수정

## 날짜
2026-02-23

## 문제점
과학 문제에서 정답이 다른 보기와 너무 달라 쉽게 맞출 수 있는 문제 발생:
- AI 프롬프트의 오답 생성 지시가 불충분
- 폴백 로직(`generateWrongAnswers`)이 텍스트 답변에 랜덤 숫자를 생성 (예: 답 "DNA" → 오답 "42", "87")

## 수정 내용

### 1. `app/src/services/ProblemGeneratorService.js` - `buildSciencePrompt()`
- "오답 생성 규칙" 섹션 추가
- 오답이 정답과 같은 형식(텍스트/숫자/단위)이어야 함을 명시
- 오답이 정답과 비슷한 글자 수/길이여야 함을 추가
- 나쁜 예시 추가 (텍스트 답에 숫자 오답, 무관한 단어, 형식 불일치)
- 주제별 좋은 예시 추가 (힘과 운동, 세포, 화학, 유전, 계산)

### 2. `app/src/game/MonsterManager.js` - `generateWrongAnswers()`
- 텍스트 답변 감지 로직 추가 (숫자+단위 / 순수 숫자 / 텍스트 분기)
- `_generateNumericWrongAnswers()` 메서드 분리
- `_generateTextWrongAnswers()` 메서드 추가:
  - 12개 과학 용어 그룹 (세포 소기관, DNA/RNA, 역학, 입자, 원소, 생명활동, 지구과학, 전자기, 법칙, 운동, 화학결합, 세포분열)
  - 정답이 속한 그룹에서 오답 선택
  - 그룹에 없으면 길이가 비슷한 용어로 폴백
  - 최종 폴백: 일반 과학 용어

## 검증
- `npm run build` 성공
- `npx vitest run` 전체 통과 (8 파일, 209 테스트)
